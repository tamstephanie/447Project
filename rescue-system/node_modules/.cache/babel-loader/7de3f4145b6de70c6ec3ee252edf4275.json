{"remainingRequest":"/mnt/c/Users/Flower/Documents/Steph/447Project/rescue-system/node_modules/babel-loader/lib/index.js!/mnt/c/Users/Flower/Documents/Steph/447Project/rescue-system/node_modules/eslint-loader/index.js??ref--13-0!/mnt/c/Users/Flower/Documents/Steph/447Project/rescue-system/src/helpers/router.js","dependencies":[{"path":"/mnt/c/Users/Flower/Documents/Steph/447Project/rescue-system/src/helpers/router.js","mtime":1544569372349},{"path":"/mnt/c/Users/Flower/Documents/Steph/447Project/rescue-system/node_modules/cache-loader/dist/cjs.js","mtime":1543684926695},{"path":"/mnt/c/Users/Flower/Documents/Steph/447Project/rescue-system/node_modules/babel-loader/lib/index.js","mtime":1543685022971},{"path":"/mnt/c/Users/Flower/Documents/Steph/447Project/rescue-system/node_modules/eslint-loader/index.js","mtime":1543685038734}],"contextDependencies":[],"result":["import \"core-js/modules/es7.array.includes\";\nimport Vue from 'vue';\nimport Router from 'vue-router'; // Import local files\n\nimport MainView from '../main/MainView';\nimport LoginPage from '../login/LoginPage';\nimport CreateEvent from '../main/events/CreateEvent';\nimport EventsTable from '../main/events/EventsTable';\nimport MissionsTable from '../main/missions/MissionsTable';\nVue.use(Router); // Create paths for each page\n\nexport var router = new Router({\n  mode: 'history',\n  routes: [{\n    path: '/login',\n    name: 'Login',\n    component: LoginPage\n  }, {\n    path: '/create-event',\n    name: 'Create Events',\n    component: CreateEvent,\n    adminOnly: true\n  }, {\n    path: '/events',\n    name: 'Events',\n    component: MainView\n  }, // { path: '/eventsTable/event', component: Event },\n  {\n    path: '/missions',\n    name: 'Missions',\n    component: MissionsTable\n  }, // { path: '/map', component: MapView },\n  // If path doesn't exist, redirect to main page after logging in?\n  {\n    path: '*',\n    redirect: '/login'\n  }]\n});\nrouter.beforeEach(function (to, from, next) {\n  // Redirect to login page if not logged in and trying to access a restricted page\n  var publicPage = ['/login', '/events'];\n  var authRequired = !publicPage.includes(to.path);\n  var loggedIn = localStorage.getItem('user');\n\n  if (authRequired && !loggedIn) {\n    return next('/login');\n  }\n\n  next();\n});",{"version":3,"sources":["/mnt/c/Users/Flower/Documents/Steph/447Project/rescue-system/src/helpers/router.js"],"names":["Vue","Router","MainView","LoginPage","CreateEvent","EventsTable","MissionsTable","use","router","mode","routes","path","name","component","adminOnly","redirect","beforeEach","to","from","next","publicPage","authRequired","includes","loggedIn","localStorage","getItem"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB,C,CAEA;;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,SAAP,MAAsB,oBAAtB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAOC,aAAP,MAA0B,gCAA1B;AAEAN,GAAG,CAACO,GAAJ,CAAQN,MAAR,E,CAEA;;AACA,OAAO,IAAMO,MAAM,GAAG,IAAIP,MAAJ,CAAW;AAC/BQ,EAAAA,IAAI,EAAE,SADyB;AAE/BC,EAAAA,MAAM,EAAE,CACN;AAAEC,IAAAA,IAAI,EAAE,QAAR;AAAkBC,IAAAA,IAAI,EAAE,OAAxB;AAAiCC,IAAAA,SAAS,EAAEV;AAA5C,GADM,EAEN;AAAEQ,IAAAA,IAAI,EAAE,eAAR;AAAyBC,IAAAA,IAAI,EAAE,eAA/B;AAAgDC,IAAAA,SAAS,EAAET,WAA3D;AAAwEU,IAAAA,SAAS,EAAE;AAAnF,GAFM,EAGN;AAAEH,IAAAA,IAAI,EAAE,SAAR;AAAmBC,IAAAA,IAAI,EAAE,QAAzB;AAAmCC,IAAAA,SAAS,EAAEX;AAA9C,GAHM,EAIN;AACA;AAAES,IAAAA,IAAI,EAAE,WAAR;AAAqBC,IAAAA,IAAI,EAAE,UAA3B;AAAuCC,IAAAA,SAAS,EAAEP;AAAlD,GALM,EAMN;AAEA;AACA;AAAEK,IAAAA,IAAI,EAAE,GAAR;AAAaI,IAAAA,QAAQ,EAAE;AAAvB,GATM;AAFuB,CAAX,CAAf;AAgBPP,MAAM,CAACQ,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC;AACA,MAAMC,UAAU,GAAG,CAAC,QAAD,EAAW,SAAX,CAAnB;AACA,MAAMC,YAAY,GAAG,CAACD,UAAU,CAACE,QAAX,CAAoBL,EAAE,CAACN,IAAvB,CAAtB;AACA,MAAMY,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAjB;;AAEA,MAAIJ,YAAY,IAAI,CAACE,QAArB,EAA+B;AAC7B,WAAOJ,IAAI,CAAC,QAAD,CAAX;AACD;;AAEDA,EAAAA,IAAI;AACL,CAXD","sourcesContent":["import Vue from 'vue';\r\nimport Router from 'vue-router';\r\n\r\n// Import local files\r\nimport MainView from '../main/MainView'\r\nimport LoginPage from '../login/LoginPage'\r\nimport CreateEvent from '../main/events/CreateEvent'\r\nimport EventsTable from '../main/events/EventsTable'\r\nimport MissionsTable from '../main/missions/MissionsTable'\r\n\r\nVue.use(Router);\r\n\r\n// Create paths for each page\r\nexport const router = new Router({\r\n  mode: 'history',\r\n  routes: [\r\n    { path: '/login', name: 'Login', component: LoginPage },\r\n    { path: '/create-event', name: 'Create Events', component: CreateEvent, adminOnly: true },\r\n    { path: '/events', name: 'Events', component: MainView },\r\n    // { path: '/eventsTable/event', component: Event },\r\n    { path: '/missions', name: 'Missions', component: MissionsTable },\r\n    // { path: '/map', component: MapView },\r\n    \r\n    // If path doesn't exist, redirect to main page after logging in?\r\n    { path: '*', redirect: '/login' }\r\n  ]\r\n});\r\n\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n  // Redirect to login page if not logged in and trying to access a restricted page\r\n  const publicPage = ['/login', '/events'];\r\n  const authRequired = !publicPage.includes(to.path);\r\n  const loggedIn = localStorage.getItem('user');\r\n\r\n  if (authRequired && !loggedIn) {\r\n    return next('/login');\r\n  }\r\n\r\n  next();\r\n})\r\n"]}]}